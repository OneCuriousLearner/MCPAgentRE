# TAPDæ•°æ®ç²¾ç¡®æœç´¢åŠŸèƒ½ä½¿ç”¨æ‰‹å†Œ

## åŠŸèƒ½æ¦‚è¿°

TAPDæ•°æ®ç²¾ç¡®æœç´¢åŠŸèƒ½æä¾›äº†å¼ºå¤§çš„æ•°æ®æ£€ç´¢èƒ½åŠ›ï¼Œæ”¯æŒå¯¹TAPDéœ€æ±‚å’Œç¼ºé™·æ•°æ®è¿›è¡Œç²¾ç¡®åŒ¹é…æœç´¢ã€‚è¯¥åŠŸèƒ½åŒ…å«ä¸‰ä¸ªä¸»è¦MCPå·¥å…·ï¼Œå¯ä»¥æ»¡è¶³ä¸åŒçš„æœç´¢éœ€æ±‚ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” æ ¸å¿ƒåŠŸèƒ½
- **ç²¾ç¡®å­—æ®µåŒ¹é…æœç´¢** - æ”¯æŒå¯¹ä»»ä½•å­—æ®µè¿›è¡Œç²¾ç¡®æˆ–æ¨¡ç³Šæœç´¢
- **ä¼˜å…ˆçº§ç­›é€‰** - å¿«é€Ÿç­›é€‰é«˜ã€ä¸­ã€ä½ä¼˜å…ˆçº§æ•°æ®
- **æ•°æ®ç»Ÿè®¡åˆ†æ** - æä¾›å…¨é¢çš„æ•°æ®åˆ†å¸ƒç»Ÿè®¡ä¿¡æ¯
- **çµæ´»æœç´¢é€‰é¡¹** - æ”¯æŒå¤§å°å†™æ•æ„Ÿã€ç²¾ç¡®åŒ¹é…ç­‰é€‰é¡¹
- **ç»“æœå¯¼å‡º** - æ”¯æŒå°†æœç´¢ç»“æœå¯¼å‡ºä¸ºJSONæ–‡ä»¶

### ğŸ“Š æ”¯æŒçš„æ•°æ®ç±»å‹
- **éœ€æ±‚æ•°æ® (stories)** - é¡¹ç›®éœ€æ±‚ã€ä»»åŠ¡ã€ç”¨æˆ·æ•…äº‹ç­‰
- **ç¼ºé™·æ•°æ® (bugs)** - ç¼ºé™·æŠ¥å‘Šã€é—®é¢˜è®°å½•ç­‰
- **æ··åˆæœç´¢ (both)** - åŒæ—¶æœç´¢éœ€æ±‚å’Œç¼ºé™·æ•°æ®

## MCPå·¥å…·è¯¦è§£

### 1. precise_search_tapd_data - ç²¾ç¡®æœç´¢å·¥å…·

#### åŠŸèƒ½æè¿°
å¯¹TAPDæ•°æ®è¿›è¡Œç²¾ç¡®çš„å­—æ®µæœç´¢ï¼Œæ”¯æŒå…¨å­—æ®µæœç´¢æˆ–æŒ‡å®šå­—æ®µæœç´¢ã€‚

#### å‚æ•°è¯´æ˜
```
search_value (str): æœç´¢å€¼ï¼Œè¦æŸ¥æ‰¾çš„å†…å®¹
search_field (str, optional): æœç´¢å­—æ®µï¼ŒNoneè¡¨ç¤ºæœç´¢æ‰€æœ‰å­—æ®µ
data_type (str): æ•°æ®ç±»å‹ - 'stories'(éœ€æ±‚), 'bugs'(ç¼ºé™·), 'both'(ä¸¤è€…)
exact_match (bool): æ˜¯å¦ç²¾ç¡®åŒ¹é… - True=å®Œå…¨ç›¸ç­‰, False=åŒ…å«åŒ¹é…
case_sensitive (bool): æ˜¯å¦åŒºåˆ†å¤§å°å†™
```

#### æ”¯æŒçš„æœç´¢å­—æ®µ

**éœ€æ±‚å­—æ®µ (stories)**
- `id` - éœ€æ±‚ID
- `name` - éœ€æ±‚åç§°
- `description` - éœ€æ±‚æè¿°
- `creator` - åˆ›å»ºè€…
- `priority` - ä¼˜å…ˆçº§æ•°å€¼ (1-4)
- `priority_label` - ä¼˜å…ˆçº§æ ‡ç­¾ (Nice To Have, Low, Middle, High)
- `status` - çŠ¶æ€
- `created` - åˆ›å»ºæ—¶é—´
- `modified` - ä¿®æ”¹æ—¶é—´
- `begin` - å¼€å§‹æ—¶é—´
- `due` - æˆªæ­¢æ—¶é—´

**ç¼ºé™·å­—æ®µ (bugs)**
- `id` - ç¼ºé™·ID
- `title` - ç¼ºé™·æ ‡é¢˜
- `description` - ç¼ºé™·æè¿°
- `reporter` - æŠ¥å‘Šè€…
- `priority` - ä¼˜å…ˆçº§ (insignificant, low, medium, high, urgent)
- `severity` - ä¸¥é‡ç¨‹åº¦ (advice, prompt, normal, serious, fatal)
- `status` - çŠ¶æ€ (new, in_progress, resolved, closed, rejected, reopened)
- `created` - åˆ›å»ºæ—¶é—´
- `modified` - ä¿®æ”¹æ—¶é—´

#### ä½¿ç”¨ç¤ºä¾‹

**1. æ ¹æ®IDç²¾ç¡®æŸ¥æ‰¾**
```json
{
  "search_value": "1148591566001000001",
  "search_field": "id",
  "data_type": "both",
  "exact_match": true
}
```

**2. æœç´¢ç‰¹å®šåˆ›å»ºè€…çš„æ‰€æœ‰ä»»åŠ¡**
```json
{
  "search_value": "å¼ å‡¯æ™¨",
  "search_field": "creator",
  "data_type": "stories"
}
```

**3. æ¨¡ç³Šæœç´¢åŒ…å«å…³é”®è¯çš„æ ‡é¢˜**
```json
{
  "search_value": "ç™»å½•",
  "search_field": "name",
  "exact_match": false,
  "case_sensitive": false
}
```

**4. æœç´¢æ‰€æœ‰å­—æ®µåŒ…å«ç‰¹å®šå…³é”®è¯**
```json
{
  "search_value": "å‰ç«¯å¼€å‘",
  "search_field": null,
  "exact_match": false
}
```

### 2. search_tapd_by_priority - ä¼˜å…ˆçº§æœç´¢å·¥å…·

#### åŠŸèƒ½æè¿°
æ ¹æ®ä¼˜å…ˆçº§å¿«é€Ÿç­›é€‰TAPDæ•°æ®ï¼Œæ”¯æŒé¢„è®¾ä¼˜å…ˆçº§å’Œå…·ä½“ä¼˜å…ˆçº§æ ‡ç­¾ã€‚

#### å‚æ•°è¯´æ˜
```
priority_filter (str): ä¼˜å…ˆçº§è¿‡æ»¤å™¨
data_type (str): æ•°æ®ç±»å‹
```

#### ä¼˜å…ˆçº§æ˜ å°„

**éœ€æ±‚ä¼˜å…ˆçº§ (æ•°å­—è¶Šå¤§è¶Šç´§æ€¥)**
- `1` â†’ Nice To Have (æœ€ä½)
- `2` â†’ Low (ä½)
- `3` â†’ Middle (ä¸­)
- `4` â†’ High (é«˜)

**ç¼ºé™·ä¼˜å…ˆçº§**
- `insignificant` â†’ å¾®ä¸è¶³é“
- `low` â†’ ä½
- `medium` â†’ ä¸­
- `high` â†’ é«˜
- `urgent` â†’ ç´§æ€¥

#### é¢„è®¾è¿‡æ»¤å™¨
- `high` - é«˜ä¼˜å…ˆçº§ (éœ€æ±‚: 3,4; ç¼ºé™·: high,urgent)
- `medium` - ä¸­ä¼˜å…ˆçº§ (éœ€æ±‚: 3; ç¼ºé™·: medium)
- `low` - ä½ä¼˜å…ˆçº§ (éœ€æ±‚: 1,2; ç¼ºé™·: low,insignificant)
- `all` - æ‰€æœ‰ä¼˜å…ˆçº§

#### ä½¿ç”¨ç¤ºä¾‹

**1. æŸ¥æ‰¾æ‰€æœ‰é«˜ä¼˜å…ˆçº§é¡¹ç›®**
```json
{
  "priority_filter": "high",
  "data_type": "both"
}
```

**2. æŸ¥æ‰¾ç´§æ€¥ç¼ºé™·**
```json
{
  "priority_filter": "urgent",
  "data_type": "bugs"
}
```

**3. æŸ¥æ‰¾ç‰¹å®šä¼˜å…ˆçº§æ ‡ç­¾çš„éœ€æ±‚**
```json
{
  "priority_filter": "High",
  "data_type": "stories"
}
```

### 3. get_tapd_data_statistics - æ•°æ®ç»Ÿè®¡å·¥å…·

#### åŠŸèƒ½æè¿°
æä¾›TAPDæ•°æ®çš„å…¨é¢ç»Ÿè®¡åˆ†æï¼ŒåŒ…å«æ•°é‡åˆ†å¸ƒã€ä¼˜å…ˆçº§åˆ†å¸ƒã€çŠ¶æ€åˆ†å¸ƒç­‰ã€‚

#### å‚æ•°è¯´æ˜
```
data_type (str): æ•°æ®ç±»å‹ - 'stories', 'bugs', 'both'
```

#### ç»Ÿè®¡å†…å®¹

**éœ€æ±‚ç»Ÿè®¡**
- æ€»æ•°é‡
- ä¼˜å…ˆçº§åˆ†å¸ƒ
- çŠ¶æ€åˆ†å¸ƒ
- åˆ›å»ºè€…åˆ†å¸ƒ
- æœ€è¿‘é¡¹ç›®æ•° (7å¤©å†…)
- å·²å®Œæˆé¡¹ç›®æ•°
- é«˜ä¼˜å…ˆçº§é¡¹ç›®æ•°

**ç¼ºé™·ç»Ÿè®¡**
- æ€»æ•°é‡
- ä¼˜å…ˆçº§åˆ†å¸ƒ
- ä¸¥é‡ç¨‹åº¦åˆ†å¸ƒ
- çŠ¶æ€åˆ†å¸ƒ
- æŠ¥å‘Šè€…åˆ†å¸ƒ
- æœ€è¿‘ç¼ºé™·æ•° (7å¤©å†…)
- å·²è§£å†³ç¼ºé™·æ•°
- é«˜ä¼˜å…ˆçº§ç¼ºé™·æ•°

#### ä½¿ç”¨ç¤ºä¾‹

**1. è·å–å…¨éƒ¨æ•°æ®ç»Ÿè®¡**
```json
{
  "data_type": "both"
}
```

**2. ä»…è·å–éœ€æ±‚ç»Ÿè®¡**
```json
{
  "data_type": "stories"
}
```

## è¿”å›ç»“æœæ ¼å¼

### æœç´¢ç»“æœç»“æ„
```json
{
  "stories": [
    {
      "id": "éœ€æ±‚ID",
      "name": "éœ€æ±‚åç§°",
      "description": "éœ€æ±‚æè¿°",
      "_match_info": {
        "matched_fields": [
          {
            "field": "åŒ¹é…å­—æ®µ",
            "value": "å­—æ®µå€¼",
            "match_type": "exact|partial"
          }
        ],
        "match_count": 1
      }
    }
  ],
  "bugs": [
    {
      "id": "ç¼ºé™·ID",
      "title": "ç¼ºé™·æ ‡é¢˜",
      "description": "ç¼ºé™·æè¿°",
      "_match_info": {
        "matched_fields": [...],
        "match_count": 1
      }
    }
  ],
  "summary": {
    "total_stories": 10,
    "total_bugs": 5,
    "total_items": 15,
    "search_params": {
      "search_value": "æœç´¢å€¼",
      "search_field": "æœç´¢å­—æ®µ",
      "data_type": "both",
      "exact_match": true,
      "case_sensitive": false
    }
  }
}
```

### ç»Ÿè®¡ç»“æœç»“æ„
```json
{
  "stories": {
    "total_count": 44,
    "priority_distribution": {
      "1 (Nice To Have)": 6,
      "2 (Low)": 0,
      "3 (Middle)": 10,
      "4 (High)": 28
    },
    "status_distribution": {
      "status_4": 15,
      "status_5": 18,
      "status_6": 11
    },
    "creator_distribution": {
      "å¼ å‡¯æ™¨": 9,
      "TAPD": 35
    },
    "recent_items": 6,
    "completed_items": 11,
    "high_priority_items": 38
  },
  "bugs": {
    "total_count": 22,
    "priority_distribution": {
      "insignificant": 1,
      "low": 3,
      "medium": 10,
      "high": 3,
      "urgent": 5
    },
    "severity_distribution": {
      "advice": 3,
      "prompt": 4,
      "normal": 6,
      "serious": 5,
      "fatal": 4
    },
    "status_distribution": {
      "new": 16,
      "in_progress": 1,
      "resolved": 1,
      "closed": 1,
      "rejected": 1,
      "reopened": 1
    },
    "recent_items": 16,
    "resolved_items": 2,
    "high_priority_items": 8
  }
}
```

## é«˜çº§åŠŸèƒ½

### æœç´¢ç»“æœå¯¼å‡º
æœç´¢å™¨è¿˜æä¾›äº†ç»“æœå¯¼å‡ºåŠŸèƒ½ï¼Œå¯ä»¥å°†æœç´¢ç»“æœä¿å­˜ä¸ºJSONæ–‡ä»¶ï¼š

```python
from mcp_tools.data_precise_searcher import get_searcher

searcher = get_searcher()
results = searcher.search_by_field("å‰ç«¯", exact_match=False)
export_result = searcher.export_results(results, "search_results.json")
```

### é«˜çº§æœç´¢å‚æ•°
æœç´¢å™¨çš„ `advanced_search` æ–¹æ³•æ”¯æŒæ›´å¤šé«˜çº§å‚æ•°ï¼š

```python
search_params = {
    'text_search': 'å‰ç«¯',                    # æ–‡æœ¬æœç´¢
    'search_fields': ['name', 'description'], # æœç´¢å­—æ®µåˆ—è¡¨
    'data_type': 'both',                      # æ•°æ®ç±»å‹
    'priority_filter': 'high',                # ä¼˜å…ˆçº§è¿‡æ»¤
    'status_filter': 'status_4',              # çŠ¶æ€è¿‡æ»¤
    'creator_filter': 'å¼ å‡¯æ™¨',               # åˆ›å»ºè€…è¿‡æ»¤
    'date_range': {                           # æ—¥æœŸèŒƒå›´
        'start': '2025-08-01',
        'end': '2025-08-31'
    },
    'exact_match': False,                     # ç²¾ç¡®åŒ¹é…
    'case_sensitive': False,                  # å¤§å°å†™æ•æ„Ÿ
    'sort_by': 'created',                     # æ’åºå­—æ®µ
    'sort_order': 'desc',                     # æ’åºé¡ºåº
    'limit': 10                               # ç»“æœé™åˆ¶
}

results = searcher.advanced_search(search_params)
```

## ä½¿ç”¨åœºæ™¯

### 1. é¡¹ç›®ç®¡ç†åœºæ™¯
- **æŸ¥æ‰¾ç‰¹å®šäººå‘˜çš„ä»»åŠ¡**: æœç´¢creatoræˆ–reporterå­—æ®µ
- **è·Ÿè¸ªé«˜ä¼˜å…ˆçº§é¡¹ç›®**: ä½¿ç”¨ä¼˜å…ˆçº§æœç´¢å¿«é€Ÿå®šä½é‡è¦ä»»åŠ¡
- **çŠ¶æ€ç›‘æ§**: æœç´¢ç‰¹å®šçŠ¶æ€çš„é¡¹ç›®ï¼Œäº†è§£é¡¹ç›®è¿›å±•

### 2. è´¨é‡ç®¡ç†åœºæ™¯
- **ç¼ºé™·åˆ†æ**: æŒ‰ä¸¥é‡ç¨‹åº¦ã€ä¼˜å…ˆçº§ç­›é€‰ç¼ºé™·
- **è¶‹åŠ¿ç›‘æ§**: ç»Ÿè®¡æ•°æ®åˆ†å¸ƒï¼Œäº†è§£è´¨é‡è¶‹åŠ¿
- **é—®é¢˜å®šä½**: ç²¾ç¡®æœç´¢ç‰¹å®šIDçš„ç¼ºé™·è®°å½•

### 3. æ•°æ®åˆ†æåœºæ™¯
- **å·¥ä½œè´Ÿè½½åˆ†æ**: ç»Ÿè®¡ä¸åŒäººå‘˜çš„ä»»åŠ¡åˆ†å¸ƒ
- **é¡¹ç›®å¥åº·åº¦è¯„ä¼°**: åˆ†æé«˜ä¼˜å…ˆçº§é¡¹ç›®å æ¯”
- **æ—¶é—´åˆ†æ**: ç»“åˆæ—¶é—´å­—æ®µè¿›è¡Œè¶‹åŠ¿åˆ†æ

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®æ–‡ä»¶ä¾èµ–**: éœ€è¦å…ˆè°ƒç”¨ `get_tapd_data` å·¥å…·è·å–æœ€æ–°æ•°æ®
2. **å¤§å°å†™å¤„ç†**: é»˜è®¤ä¸åŒºåˆ†å¤§å°å†™ï¼Œå¯é€šè¿‡å‚æ•°è°ƒæ•´
3. **æ—¥æœŸæ ¼å¼**: æ”¯æŒ 'YYYY-MM-DD' å’Œ 'YYYY-MM-DD HH:MM:SS' æ ¼å¼
4. **æ€§èƒ½è€ƒè™‘**: å¤§æ•°æ®é›†å»ºè®®ä½¿ç”¨ç²¾ç¡®åŒ¹é…è€Œéæ¨¡ç³Šæœç´¢
5. **å­—æ®µåç§°**: è¯·ä½¿ç”¨æ­£ç¡®çš„å­—æ®µåç§°ï¼ŒåŒºåˆ†needså’Œbugsçš„ä¸åŒå­—æ®µ

## é”™è¯¯å¤„ç†

å·¥å…·æä¾›äº†å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š

- **æ–‡ä»¶ä¸å­˜åœ¨**: æç¤ºå…ˆè·å–TAPDæ•°æ®
- **å‚æ•°é”™è¯¯**: æä¾›å‚æ•°æ ¼å¼è¯´æ˜
- **æœç´¢æ— ç»“æœ**: è¿”å›ç©ºç»“æœé›†ä½†ä¸æŠ¥é”™
- **å­—æ®µä¸å­˜åœ¨**: è‡ªåŠ¨å¿½ç•¥ä¸å­˜åœ¨çš„å­—æ®µ

## æ›´æ–°è®°å½•

- **2025-08-29**: åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
  - æ”¯æŒç²¾ç¡®å­—æ®µæœç´¢
  - æ”¯æŒä¼˜å…ˆçº§ç­›é€‰
  - æ”¯æŒæ•°æ®ç»Ÿè®¡åˆ†æ
  - æä¾›å®Œæ•´çš„MCPå·¥å…·æ¥å£
